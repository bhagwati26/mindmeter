<script>
  let currentUser = prompt("Enter your name:");
  if (!currentUser) currentUser = "Guest";

  const storageKey = `journal_${currentUser}`;

  function saveEntry() {
    const text = document.getElementById("journalEntry").value.trim();
    if (!text) return alert("Please write something!");

    const date = new Date();
    const entry = {
      text,
      date: date.toLocaleDateString() + " " + date.toLocaleTimeString()
    };

    const entries = JSON.parse(localStorage.getItem(storageKey)) || [];
    entries.push(entry);
    localStorage.setItem(storageKey, JSON.stringify(entries));

    document.getElementById("journalEntry").value = "";
    loadEntries();
  }

  function loadEntries() {
    const entries = JSON.parse(localStorage.getItem(storageKey)) || [];
    const entryList = document.getElementById("entryList");
    entryList.innerHTML = `<h3>${currentUser}'s Journal:</h3>`;

    entries.reverse().forEach(entry => {
      const div = document.createElement("div");
      div.className = "entry";
      div.innerHTML = `<div class="entry-date">${entry.date}</div><p>${entry.text}</p>`;
      entryList.appendChild(div);
    });
  }

  window.onload = loadEntries;
</script>
